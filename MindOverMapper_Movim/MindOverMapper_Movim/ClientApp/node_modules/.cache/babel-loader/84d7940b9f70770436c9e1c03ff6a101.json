{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _escape2 = require(\"lodash/escape\");\n\nvar _escape3 = _interopRequireDefault(_escape2);\n\nexports.default = headingToSlug;\n\nvar _slate = require(\"slate\");\n\nvar _slugify = require(\"slugify\");\n\nvar _slugify2 = _interopRequireDefault(_slugify);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Slugify, escape, and remove periods from headings so that they are\n// compatible with url hashes AND dom selectors\n\n\nfunction safeSlugify(text) {\n  return \"h-\" + (0, _escape3.default)((0, _slugify2.default)(text, {\n    lower: true\n  }).replace(\".\", \"-\"));\n} // finds the index of this heading in the document compared to other headings\n// with the same slugified text\n\n\nfunction indexOfType(document, heading) {\n  var slugified = safeSlugify(heading.text);\n  var headings = document.nodes.filter(function (node) {\n    if (!node.text) return false;\n    return node.type.match(/^heading/) && slugified === safeSlugify(node.text);\n  });\n  return headings.indexOf(heading);\n} // calculates a unique slug for this heading based on it's text and position\n// in the document that is as stable as possible\n\n\nfunction headingToSlug(document, node) {\n  var slugified = safeSlugify(node.text);\n  var index = indexOfType(document, node);\n  if (index === 0) return slugified;\n  return slugified + \"-\" + index;\n}","map":{"version":3,"sources":["C:/Users/ayomi/source/repos/Idea-Creator/Idea-Creator/MindOverMapper_Movim/MindOverMapper_Movim/ClientApp/node_modules/awehook-rich-markdown-editor/lib/lib/headingToSlug.js"],"names":["Object","defineProperty","exports","value","_escape2","require","_escape3","_interopRequireDefault","default","headingToSlug","_slate","_slugify","_slugify2","obj","__esModule","safeSlugify","text","lower","replace","indexOfType","document","heading","slugified","headings","nodes","filter","node","type","match","indexOf","index"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;;AAIA,IAAIC,QAAQ,GAAGC,OAAO,CAAC,eAAD,CAAtB;;AAEA,IAAIC,QAAQ,GAAGC,sBAAsB,CAACH,QAAD,CAArC;;AAEAF,OAAO,CAACM,OAAR,GAAkBC,aAAlB;;AAEA,IAAIC,MAAM,GAAGL,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIM,QAAQ,GAAGN,OAAO,CAAC,SAAD,CAAtB;;AAEA,IAAIO,SAAS,GAAGL,sBAAsB,CAACI,QAAD,CAAtC;;AAEA,SAASJ,sBAAT,CAAgCM,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEL,IAAAA,OAAO,EAAEK;AAAX,GAArC;AAAwD,C,CAE/F;AACA;;;AACA,SAASE,WAAT,CAAqBC,IAArB,EAA2B;AACzB,SAAO,OAAO,CAAC,GAAGV,QAAQ,CAACE,OAAb,EAAsB,CAAC,GAAGI,SAAS,CAACJ,OAAd,EAAuBQ,IAAvB,EAA6B;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAA7B,EAA8CC,OAA9C,CAAsD,GAAtD,EAA2D,GAA3D,CAAtB,CAAd;AACD,C,CAED;AACA;;;AACA,SAASC,WAAT,CAAqBC,QAArB,EAA+BC,OAA/B,EAAwC;AACtC,MAAIC,SAAS,GAAGP,WAAW,CAACM,OAAO,CAACL,IAAT,CAA3B;AACA,MAAIO,QAAQ,GAAGH,QAAQ,CAACI,KAAT,CAAeC,MAAf,CAAsB,UAAUC,IAAV,EAAgB;AACnD,QAAI,CAACA,IAAI,CAACV,IAAV,EAAgB,OAAO,KAAP;AAChB,WAAOU,IAAI,CAACC,IAAL,CAAUC,KAAV,CAAgB,UAAhB,KAA+BN,SAAS,KAAKP,WAAW,CAACW,IAAI,CAACV,IAAN,CAA/D;AACD,GAHc,CAAf;AAKA,SAAOO,QAAQ,CAACM,OAAT,CAAiBR,OAAjB,CAAP;AACD,C,CAED;AACA;;;AACA,SAASZ,aAAT,CAAuBW,QAAvB,EAAiCM,IAAjC,EAAuC;AACrC,MAAIJ,SAAS,GAAGP,WAAW,CAACW,IAAI,CAACV,IAAN,CAA3B;AACA,MAAIc,KAAK,GAAGX,WAAW,CAACC,QAAD,EAAWM,IAAX,CAAvB;AACA,MAAII,KAAK,KAAK,CAAd,EAAiB,OAAOR,SAAP;AACjB,SAAOA,SAAS,GAAG,GAAZ,GAAkBQ,KAAzB;AACD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _escape2 = require(\"lodash/escape\");\n\nvar _escape3 = _interopRequireDefault(_escape2);\n\nexports.default = headingToSlug;\n\nvar _slate = require(\"slate\");\n\nvar _slugify = require(\"slugify\");\n\nvar _slugify2 = _interopRequireDefault(_slugify);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Slugify, escape, and remove periods from headings so that they are\n// compatible with url hashes AND dom selectors\nfunction safeSlugify(text) {\n  return \"h-\" + (0, _escape3.default)((0, _slugify2.default)(text, { lower: true }).replace(\".\", \"-\"));\n}\n\n// finds the index of this heading in the document compared to other headings\n// with the same slugified text\nfunction indexOfType(document, heading) {\n  var slugified = safeSlugify(heading.text);\n  var headings = document.nodes.filter(function (node) {\n    if (!node.text) return false;\n    return node.type.match(/^heading/) && slugified === safeSlugify(node.text);\n  });\n\n  return headings.indexOf(heading);\n}\n\n// calculates a unique slug for this heading based on it's text and position\n// in the document that is as stable as possible\nfunction headingToSlug(document, node) {\n  var slugified = safeSlugify(node.text);\n  var index = indexOfType(document, node);\n  if (index === 0) return slugified;\n  return slugified + \"-\" + index;\n}"]},"metadata":{},"sourceType":"script"}