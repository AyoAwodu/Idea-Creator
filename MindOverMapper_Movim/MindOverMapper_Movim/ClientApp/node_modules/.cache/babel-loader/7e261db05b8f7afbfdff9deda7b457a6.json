{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire('slate');\n\nvar _immutable = require('immutable');\n\nvar _isList = require('./isList');\n\nvar _isList2 = _interopRequireDefault(_isList);\n\nvar _getCurrentItem = require('./getCurrentItem');\n\nvar _getCurrentItem2 = _interopRequireDefault(_getCurrentItem);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Return the list of items at the given range. The returned items are\n * the highest list item blocks that cover the range.\n *\n * Returns an empty list if no list of items can cover the range\n */\n\n\nfunction getItemsAtRange(opts, value, range) {\n  range = range || value.selection;\n\n  if (!range.start.key) {\n    return (0, _immutable.List)();\n  }\n\n  var document = value.document;\n  var startBlock = document.getClosestBlock(range.start.key);\n  var endBlock = document.getClosestBlock(range.end.key);\n\n  if (startBlock === endBlock) {\n    var item = (0, _getCurrentItem2.default)(opts, value, startBlock);\n    return item ? (0, _immutable.List)([item]) : (0, _immutable.List)();\n  }\n\n  var ancestor = document.getCommonAncestor(startBlock.key, endBlock.key);\n\n  if ((0, _isList2.default)(opts, ancestor)) {\n    var startPath = ancestor.getPath(startBlock.key);\n    var endPath = ancestor.getPath(endBlock.key);\n    return ancestor.nodes.slice(startPath.get(0), endPath.get(0) + 1);\n  } else if (ancestor.type === opts.typeItem) {\n    // The ancestor is the highest list item that covers the range\n    return (0, _immutable.List)([ancestor]);\n  } // No list of items can cover the range\n\n\n  return (0, _immutable.List)();\n}\n\nexports.default = getItemsAtRange;","map":{"version":3,"sources":["C:/Users/ayomi/Source/Repos/Idea-Creator/Idea-Creator/MindOverMapper_Movim/MindOverMapper_Movim/ClientApp/node_modules/@tommoor/slate-edit-list/dist/utils/getItemsAtRange.js"],"names":["Object","defineProperty","exports","value","require","_immutable","_isList","_isList2","_interopRequireDefault","_getCurrentItem","_getCurrentItem2","obj","__esModule","default","getItemsAtRange","opts","range","selection","start","key","List","document","startBlock","getClosestBlock","endBlock","end","item","ancestor","getCommonAncestor","startPath","getPath","endPath","nodes","slice","get","type","typeItem"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIAC,OAAO,CAAC,OAAD,CAAP;;AAEA,IAAIC,UAAU,GAAGD,OAAO,CAAC,WAAD,CAAxB;;AAEA,IAAIE,OAAO,GAAGF,OAAO,CAAC,UAAD,CAArB;;AAEA,IAAIG,QAAQ,GAAGC,sBAAsB,CAACF,OAAD,CAArC;;AAEA,IAAIG,eAAe,GAAGL,OAAO,CAAC,kBAAD,CAA7B;;AAEA,IAAIM,gBAAgB,GAAGF,sBAAsB,CAACC,eAAD,CAA7C;;AAEA,SAASD,sBAAT,CAAgCG,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;AAE/F;;;;;;;;AAMA,SAASG,eAAT,CAAyBC,IAAzB,EAA+BZ,KAA/B,EAAsCa,KAAtC,EAA6C;AACzCA,EAAAA,KAAK,GAAGA,KAAK,IAAIb,KAAK,CAACc,SAAvB;;AAEA,MAAI,CAACD,KAAK,CAACE,KAAN,CAAYC,GAAjB,EAAsB;AAClB,WAAO,CAAC,GAAGd,UAAU,CAACe,IAAf,GAAP;AACH;;AAED,MAAIC,QAAQ,GAAGlB,KAAK,CAACkB,QAArB;AAGA,MAAIC,UAAU,GAAGD,QAAQ,CAACE,eAAT,CAAyBP,KAAK,CAACE,KAAN,CAAYC,GAArC,CAAjB;AACA,MAAIK,QAAQ,GAAGH,QAAQ,CAACE,eAAT,CAAyBP,KAAK,CAACS,GAAN,CAAUN,GAAnC,CAAf;;AAEA,MAAIG,UAAU,KAAKE,QAAnB,EAA6B;AACzB,QAAIE,IAAI,GAAG,CAAC,GAAGhB,gBAAgB,CAACG,OAArB,EAA8BE,IAA9B,EAAoCZ,KAApC,EAA2CmB,UAA3C,CAAX;AACA,WAAOI,IAAI,GAAG,CAAC,GAAGrB,UAAU,CAACe,IAAf,EAAqB,CAACM,IAAD,CAArB,CAAH,GAAkC,CAAC,GAAGrB,UAAU,CAACe,IAAf,GAA7C;AACH;;AAED,MAAIO,QAAQ,GAAGN,QAAQ,CAACO,iBAAT,CAA2BN,UAAU,CAACH,GAAtC,EAA2CK,QAAQ,CAACL,GAApD,CAAf;;AAEA,MAAI,CAAC,GAAGZ,QAAQ,CAACM,OAAb,EAAsBE,IAAtB,EAA4BY,QAA5B,CAAJ,EAA2C;AACvC,QAAIE,SAAS,GAAGF,QAAQ,CAACG,OAAT,CAAiBR,UAAU,CAACH,GAA5B,CAAhB;AACA,QAAIY,OAAO,GAAGJ,QAAQ,CAACG,OAAT,CAAiBN,QAAQ,CAACL,GAA1B,CAAd;AAEA,WAAOQ,QAAQ,CAACK,KAAT,CAAeC,KAAf,CAAqBJ,SAAS,CAACK,GAAV,CAAc,CAAd,CAArB,EAAuCH,OAAO,CAACG,GAAR,CAAY,CAAZ,IAAiB,CAAxD,CAAP;AACH,GALD,MAKO,IAAIP,QAAQ,CAACQ,IAAT,KAAkBpB,IAAI,CAACqB,QAA3B,EAAqC;AACxC;AACA,WAAO,CAAC,GAAG/B,UAAU,CAACe,IAAf,EAAqB,CAACO,QAAD,CAArB,CAAP;AACH,GA5BwC,CA6BzC;;;AACA,SAAO,CAAC,GAAGtB,UAAU,CAACe,IAAf,GAAP;AACH;;AAEDlB,OAAO,CAACW,OAAR,GAAkBC,eAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nrequire('slate');\n\nvar _immutable = require('immutable');\n\nvar _isList = require('./isList');\n\nvar _isList2 = _interopRequireDefault(_isList);\n\nvar _getCurrentItem = require('./getCurrentItem');\n\nvar _getCurrentItem2 = _interopRequireDefault(_getCurrentItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Return the list of items at the given range. The returned items are\n * the highest list item blocks that cover the range.\n *\n * Returns an empty list if no list of items can cover the range\n */\nfunction getItemsAtRange(opts, value, range) {\n    range = range || value.selection;\n\n    if (!range.start.key) {\n        return (0, _immutable.List)();\n    }\n\n    var document = value.document;\n\n\n    var startBlock = document.getClosestBlock(range.start.key);\n    var endBlock = document.getClosestBlock(range.end.key);\n\n    if (startBlock === endBlock) {\n        var item = (0, _getCurrentItem2.default)(opts, value, startBlock);\n        return item ? (0, _immutable.List)([item]) : (0, _immutable.List)();\n    }\n\n    var ancestor = document.getCommonAncestor(startBlock.key, endBlock.key);\n\n    if ((0, _isList2.default)(opts, ancestor)) {\n        var startPath = ancestor.getPath(startBlock.key);\n        var endPath = ancestor.getPath(endBlock.key);\n\n        return ancestor.nodes.slice(startPath.get(0), endPath.get(0) + 1);\n    } else if (ancestor.type === opts.typeItem) {\n        // The ancestor is the highest list item that covers the range\n        return (0, _immutable.List)([ancestor]);\n    }\n    // No list of items can cover the range\n    return (0, _immutable.List)();\n}\n\nexports.default = getItemsAtRange;"]},"metadata":{},"sourceType":"script"}