{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nrequire('slate');\n\nvar _utils = require('../utils');\n/**\n * Wrap a block into a code block.\n */\n\n\nfunction wrapCodeBlockByKey(opts, editor, key) {\n  var value = editor.value;\n  var document = value.document;\n  var startBlock = document.getDescendant(key);\n  var text = startBlock.text; // Remove all child\n\n  editor.withoutNormalizing(function () {\n    startBlock.nodes.forEach(function (node) {\n      editor.removeNodeByKey(node.key);\n    });\n  }); // Insert new text\n\n  var toInsert = (0, _utils.deserializeCode)(opts, text);\n  editor.withoutNormalizing(function () {\n    toInsert.nodes.forEach(function (node, i) {\n      editor.insertNodeByKey(startBlock.key, i, node);\n    });\n  }); // Set node type\n\n  editor.setNodeByKey(startBlock.key, {\n    type: opts.containerType\n  });\n  return editor;\n}\n\nexports.default = wrapCodeBlockByKey;","map":{"version":3,"sources":["C:/Users/ayomi/source/repos/Idea-Creator/Idea-Creator/MindOverMapper_Movim/MindOverMapper_Movim/ClientApp/node_modules/@wikifactory/slate-edit-code/dist/changes/wrapCodeBlockByKey.js"],"names":["Object","defineProperty","exports","value","require","_utils","wrapCodeBlockByKey","opts","editor","key","document","startBlock","getDescendant","text","withoutNormalizing","nodes","forEach","node","removeNodeByKey","toInsert","deserializeCode","i","insertNodeByKey","setNodeByKey","type","containerType","default"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;;AAIAC,OAAO,CAAC,OAAD,CAAP;;AAEA,IAAIC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAApB;AAEA;;;;;AAGA,SAASE,kBAAT,CAA4BC,IAA5B,EAAkCC,MAAlC,EAA0CC,GAA1C,EAA+C;AAC3C,MAAIN,KAAK,GAAGK,MAAM,CAACL,KAAnB;AACA,MAAIO,QAAQ,GAAGP,KAAK,CAACO,QAArB;AAGA,MAAIC,UAAU,GAAGD,QAAQ,CAACE,aAAT,CAAuBH,GAAvB,CAAjB;AACA,MAAII,IAAI,GAAGF,UAAU,CAACE,IAAtB,CAN2C,CAQ3C;;AACAL,EAAAA,MAAM,CAACM,kBAAP,CAA0B,YAAY;AAClCH,IAAAA,UAAU,CAACI,KAAX,CAAiBC,OAAjB,CAAyB,UAAUC,IAAV,EAAgB;AACrCT,MAAAA,MAAM,CAACU,eAAP,CAAuBD,IAAI,CAACR,GAA5B;AACH,KAFD;AAGH,GAJD,EAT2C,CAe3C;;AACA,MAAIU,QAAQ,GAAG,CAAC,GAAGd,MAAM,CAACe,eAAX,EAA4Bb,IAA5B,EAAkCM,IAAlC,CAAf;AAEAL,EAAAA,MAAM,CAACM,kBAAP,CAA0B,YAAY;AAClCK,IAAAA,QAAQ,CAACJ,KAAT,CAAeC,OAAf,CAAuB,UAAUC,IAAV,EAAgBI,CAAhB,EAAmB;AACtCb,MAAAA,MAAM,CAACc,eAAP,CAAuBX,UAAU,CAACF,GAAlC,EAAuCY,CAAvC,EAA0CJ,IAA1C;AACH,KAFD;AAGH,GAJD,EAlB2C,CAwB3C;;AACAT,EAAAA,MAAM,CAACe,YAAP,CAAoBZ,UAAU,CAACF,GAA/B,EAAoC;AAChCe,IAAAA,IAAI,EAAEjB,IAAI,CAACkB;AADqB,GAApC;AAIA,SAAOjB,MAAP;AACH;;AAEDN,OAAO,CAACwB,OAAR,GAAkBpB,kBAAlB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nrequire('slate');\n\nvar _utils = require('../utils');\n\n/**\n * Wrap a block into a code block.\n */\nfunction wrapCodeBlockByKey(opts, editor, key) {\n    var value = editor.value;\n    var document = value.document;\n\n\n    var startBlock = document.getDescendant(key);\n    var text = startBlock.text;\n\n    // Remove all child\n    editor.withoutNormalizing(function () {\n        startBlock.nodes.forEach(function (node) {\n            editor.removeNodeByKey(node.key);\n        });\n    });\n\n    // Insert new text\n    var toInsert = (0, _utils.deserializeCode)(opts, text);\n\n    editor.withoutNormalizing(function () {\n        toInsert.nodes.forEach(function (node, i) {\n            editor.insertNodeByKey(startBlock.key, i, node);\n        });\n    });\n\n    // Set node type\n    editor.setNodeByKey(startBlock.key, {\n        type: opts.containerType\n    });\n\n    return editor;\n}\n\nexports.default = wrapCodeBlockByKey;"]},"metadata":{},"sourceType":"script"}