{"ast":null,"code":"'use strict';\n\nvar Slate = require('slate');\n\nvar focusAtEnd = require('./focusAtEnd');\n/**\n * Slate plugin to ensure a trailing block.\n * @param {Object} [opts] Options for the plugin\n * @param {Function} [opts.match] Match last block\n * @param {String} [opts.type='paragraph'] The type of the trailing block to insert\n * @return {Object}\n */\n\n\nfunction TrailingBlock(opts) {\n  opts = opts || {};\n  opts.type = opts.type || 'paragraph';\n\n  opts.match = opts.match || function (node) {\n    return node.type === opts.type;\n  };\n\n  return {\n    onChange: function onChange(editor, next) {\n      var document = editor.value.document;\n      var lastNode = document.nodes.last();\n\n      if (lastNode && opts.match(lastNode)) {\n        return next();\n      }\n\n      var lastIndex = document.nodes.size;\n      var block = Slate.Block.create({\n        type: opts.type,\n        nodes: [Slate.Text.create()]\n      });\n      editor.insertNodeByKey(document.key, lastIndex, block);\n    },\n    changes: {\n      focusAtEnd: focusAtEnd\n    }\n  };\n}\n\nmodule.exports = TrailingBlock;","map":{"version":3,"sources":["C:/Users/ayomi/source/repos/Idea-Creator/Idea-Creator/MindOverMapper_Movim/MindOverMapper_Movim/ClientApp/node_modules/@wikifactory/slate-trailing-block/dist/index.js"],"names":["Slate","require","focusAtEnd","TrailingBlock","opts","type","match","node","onChange","editor","next","document","value","lastNode","nodes","last","lastIndex","size","block","Block","create","Text","insertNodeByKey","key","changes","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAAxB;AAEA;;;;;;;;;AAQA,SAASE,aAAT,CAAuBC,IAAvB,EAA6B;AACzBA,EAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;AACAA,EAAAA,IAAI,CAACC,IAAL,GAAYD,IAAI,CAACC,IAAL,IAAa,WAAzB;;AACAD,EAAAA,IAAI,CAACE,KAAL,GAAaF,IAAI,CAACE,KAAL,IAAc,UAAUC,IAAV,EAAgB;AACvC,WAAOA,IAAI,CAACF,IAAL,KAAcD,IAAI,CAACC,IAA1B;AACH,GAFD;;AAIA,SAAO;AACHG,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,MAAlB,EAA0BC,IAA1B,EAAgC;AACtC,UAAIC,QAAQ,GAAGF,MAAM,CAACG,KAAP,CAAaD,QAA5B;AAEA,UAAIE,QAAQ,GAAGF,QAAQ,CAACG,KAAT,CAAeC,IAAf,EAAf;;AACA,UAAIF,QAAQ,IAAIT,IAAI,CAACE,KAAL,CAAWO,QAAX,CAAhB,EAAsC;AAClC,eAAOH,IAAI,EAAX;AACH;;AAED,UAAIM,SAAS,GAAGL,QAAQ,CAACG,KAAT,CAAeG,IAA/B;AACA,UAAIC,KAAK,GAAGlB,KAAK,CAACmB,KAAN,CAAYC,MAAZ,CAAmB;AAC3Bf,QAAAA,IAAI,EAAED,IAAI,CAACC,IADgB;AAE3BS,QAAAA,KAAK,EAAE,CAACd,KAAK,CAACqB,IAAN,CAAWD,MAAX,EAAD;AAFoB,OAAnB,CAAZ;AAIAX,MAAAA,MAAM,CAACa,eAAP,CAAuBX,QAAQ,CAACY,GAAhC,EAAqCP,SAArC,EAAgDE,KAAhD;AACH,KAfE;AAiBHM,IAAAA,OAAO,EAAE;AACLtB,MAAAA,UAAU,EAAEA;AADP;AAjBN,GAAP;AAqBH;;AAEDuB,MAAM,CAACC,OAAP,GAAiBvB,aAAjB","sourcesContent":["'use strict';\n\nvar Slate = require('slate');\nvar focusAtEnd = require('./focusAtEnd');\n\n/**\n * Slate plugin to ensure a trailing block.\n * @param {Object} [opts] Options for the plugin\n * @param {Function} [opts.match] Match last block\n * @param {String} [opts.type='paragraph'] The type of the trailing block to insert\n * @return {Object}\n */\n\nfunction TrailingBlock(opts) {\n    opts = opts || {};\n    opts.type = opts.type || 'paragraph';\n    opts.match = opts.match || function (node) {\n        return node.type === opts.type;\n    };\n\n    return {\n        onChange: function onChange(editor, next) {\n            var document = editor.value.document;\n\n            var lastNode = document.nodes.last();\n            if (lastNode && opts.match(lastNode)) {\n                return next();\n            }\n\n            var lastIndex = document.nodes.size;\n            var block = Slate.Block.create({\n                type: opts.type,\n                nodes: [Slate.Text.create()]\n            });\n            editor.insertNodeByKey(document.key, lastIndex, block);\n        },\n\n        changes: {\n            focusAtEnd: focusAtEnd\n        }\n    };\n}\n\nmodule.exports = TrailingBlock;"]},"metadata":{},"sourceType":"script"}